<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Área Restrita</title>
  <link rel="stylesheet" href="estilo2.css">
  <link rel="icon" href="./rest.png" type="image/png">
  <script src="restrita.js" defer></script>
</head>
<body>
  <header class="topo"
    <div class="logo">Painel do Usuário <a href="#" onclick="abrirEditorPerfil()"><li>Editar Perfil</li></a> <a href="https://web.facebook.com/profile.php?id=100073682025802">Publicações</div>
    <div class="usuario-nome" id="nomeUsuario"></div>
  </header>



  <main class="conteudo">
    <section class="perfil">
      <h2>Informações do Perfil</h2>
      <p><strong>Nome:</strong> <span id="perfilNome"></span></p>
      <p><strong>Email:</strong> <span id="perfilEmail"></span></p>
      <p><strong>Data de Nascimento:</strong> <span id="perfilNascimento"></span></p>
    </section>

    <section class="publicacoes">
      <h2>Últimas Publicações</h2>
      <ul id="listaPublicacoes">
        <!-- Publicações simuladas serão inseridas aqui -->
      </ul>
    </section>
  </main>

  <footer class="rodape">
    <button onclick="sair()">Sair</button>
  </footer>
</body>
 <div id="perfilBox">
  <h2>Perfil do Usuário</h2>
  <p><strong>Nome:</strong> <span id="campoNome">---</span></p>
  <p><strong>Email:</strong> <span id="campoEmail">---</span></p>
  <p><strong>Data de Nascimento:</strong> <span id="campoData">---</span></p>
</div>

  <div id="editarPerfilBox" style="display:none; padding:20px; border:1px solid #ccc; background:#eee; margin-top:20px;">
  <h2>Editar Perfil</h2>
  <label for="editNome">Nome:</label>
  <input type="text" id="editNome"><br><br>
  
  <label for="editEmail">Email:</label>
  <input type="email" id="editEmail"><br><br>
  
  <label for="editData">Data de Nascimento:</label>
  <input type="date" id="editData"><br><br>
  
  <button onclick="salvarPerfil()">Salvar</button>
  <button onclick="cancelarEdicao()">Cancelar</button>
</div>


  <script>

  function atualizarExibicaoPerfil() {
    document.getElementById("campoNome").innerText = localStorage.getItem("nome") || "---";
    document.getElementById("campoEmail").innerText = localStorage.getItem("email") || "---";
    document.getElementById("campoData").innerText = localStorage.getItem("dataNascimento") || "---";
  }

  function abrirEditorPerfil() {
    document.getElementById("editarPerfilBox").style.display = "block";
    
    document.getElementById("editNome").value = localStorage.getItem("nome") || "";
    document.getElementById("editEmail").value = localStorage.getItem("email") || "";
    document.getElementById("editData").value = localStorage.getItem("dataNascimento") || "";
    
    window.scrollTo(0, document.body.scrollHeight); // desce até o editor
  }

  function salvarPerfil() {
    const nome = document.getElementById("editNome").value;
    const email = document.getElementById("editEmail").value;
    const data = document.getElementById("editData").value;

    localStorage.setItem("nome", nome);
    localStorage.setItem("email", email);
    localStorage.setItem("dataNascimento", data);

    atualizarExibicaoPerfil();
    document.getElementById("editarPerfilBox").style.display = "none";
    alert("Perfil atualizado com sucesso!");
  }

  function cancelarEdicao() {
    document.getElementById("editarPerfilBox").style.display = "none";
  }

  // Atualiza na carga da página
  window.onload = atualizarExibicaoPerfil;
</script>

</html>
